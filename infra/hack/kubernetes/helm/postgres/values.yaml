persistence:
  enabled: true
  storageClass: local-path
  size: 10Gi
postgresqlDatabase: strims
postgresqlUsername: strims
postgresqlPassword: strims
initdbScripts:
  db-init.sql: |
    CREATE TABLE IF NOT EXISTS "nodes" (
      "id"                BIGSERIAL PRIMARY KEY,
      "started_at"        BIGINT NOT NULL,
      "stopped_at"        BIGINT,
      "provider_name"     TEXT NOT NULL,
      "provider_id"       TEXT NOT NULL,
      "name"              TEXT NOT NULL,
      "ip_v4"             TEXT NOT NULL,
      "ip_v6"             TEXT NOT NULL,
      "region_name"       TEXT NOT NULL,
      "region_lat"        DOUBLE PRECISION NOT NULL,
      "region_lng"        DOUBLE PRECISION NOT NULL,
      "sku_name"          TEXT NOT NULL,
      "sku_network_cap"   INTEGER NOT NULL,
      "sku_network_speed" INTEGER NOT NULL,
      "sku_price_monthly" REAL NOT NULL,
      "sku_price_hourly"  REAL NOT NULL,
      "wireguard_key"     TEXT NOT NULL,
      "wireguard_ip"      TEXT NOT NULL,
      "user"              TEXT NOT NULL,
      UNIQUE ("provider_name", "provider_id"),
      UNIQUE ("name")
    );

    CREATE TABLE IF NOT EXISTS "usage" (
      "id"                BIGSERIAL PRIMARY KEY,
      "time"              BIGINT NOT NULL,
      "usage"             DOUBLE PRECISION NOT NULL,
      "cpu_usage"         DOUBLE PRECISION NOT NULL,
      "network_in"        DOUBLE PRECISION NOT NULL,
      "network_out"       DOUBLE PRECISION NOT NULL
    );
